import{l as j,J as W,K as V,d as v,ah as r,H as L,e as O,E as F,f as E,r as m,o as q,c as H,b as c,a,h as i,x as G,z as I,t as P,w as N,j as A,n as X}from"./main.b57b9d3d.js";const Z={class:"grid gap-8 md:grid-cols-12 pt-10"},ee={class:"col-span-8 md:col-span-4"},te={class:"flex flex-col my-6 lg:space-x-3 lg:flex-row"},ae={class:"col-span-8"},oe=["src"],re={__name:"SalesReports",setup(U){const{t:k}=j(),h=W();h.downloadReport=$;const l=V([{label:k("dateRange.today"),key:"Today"},{label:k("dateRange.this_week"),key:"This Week"},{label:k("dateRange.this_month"),key:"This Month"},{label:k("dateRange.this_quarter"),key:"This Quarter"},{label:k("dateRange.this_year"),key:"This Year"},{label:k("dateRange.previous_week"),key:"Previous Week"},{label:k("dateRange.previous_month"),key:"Previous Month"},{label:k("dateRange.previous_quarter"),key:"Previous Quarter"},{label:k("dateRange.previous_year"),key:"Previous Year"},{label:k("dateRange.custom"),key:"Custom"}]),M=v(l[2]),n=v(["By Customer","By Item"]),y=v("By Customer");let D=v(new Date),Y=v(null),e=v(null),g=v(null),s=V({from_date:r().startOf("month").format("YYYY-MM-DD").toString(),to_date:r().endOf("month").format("YYYY-MM-DD").toString()});const B=L(),d=O(()=>Y.value),u=O(()=>B.selectedCompany),T=O(()=>`${e.value}?from_date=${r(s.from_date).format("YYYY-MM-DD")}&to_date=${r(s.to_date).format("YYYY-MM-DD")}`),x=O(()=>`${g.value}?from_date=${r(s.from_date).format("YYYY-MM-DD")}&to_date=${r(s.to_date).format("YYYY-MM-DD")}`);F(D,p=>{s.from_date=r(p).startOf("year").toString(),s.to_date=r(p).endOf("year").toString()}),E(()=>{e.value=`/reports/sales/customers/${u.value.unique_hash}`,g.value=`/reports/sales/items/${u.value.unique_hash}`,o()});function _(p,f){return r()[p](f).format("YYYY-MM-DD")}function R(p,f){return r().subtract(1,f)[p](f).format("YYYY-MM-DD")}function t(){switch(M.value.key){case"Today":s.from_date=r().format("YYYY-MM-DD"),s.to_date=r().format("YYYY-MM-DD");break;case"This Week":s.from_date=_("startOf","isoWeek"),s.to_date=_("endOf","isoWeek");break;case"This Month":s.from_date=_("startOf","month"),s.to_date=_("endOf","month");break;case"This Quarter":s.from_date=_("startOf","quarter"),s.to_date=_("endOf","quarter");break;case"This Year":s.from_date=_("startOf","year"),s.to_date=_("endOf","year");break;case"Previous Week":s.from_date=R("startOf","isoWeek"),s.to_date=R("endOf","isoWeek");break;case"Previous Month":s.from_date=R("startOf","month"),s.to_date=R("endOf","month");break;case"Previous Quarter":s.from_date=R("startOf","quarter"),s.to_date=R("endOf","quarter");break;case"Previous Year":s.from_date=R("startOf","year"),s.to_date=R("endOf","year");break}}async function o(){return y.value==="By Customer"?(Y.value=T.value,!0):(Y.value=x.value,!0)}async function S(){let p=await w();return window.open(d.value,"_blank"),p}function w(){return y.value==="By Customer"?(Y.value=T.value,!0):(Y.value=x.value,!0)}function $(){if(!w())return!1;window.open(d.value+"&download=true"),setTimeout(()=>y.value==="By Customer"?(Y.value=T.value,!0):(Y.value=x.value,!0),200)}return(p,f)=>{const b=m("BaseMultiselect"),Q=m("BaseInputGroup"),z=m("BaseDatePicker"),J=m("BaseButton"),K=m("BaseIcon");return q(),H("div",Z,[c("div",ee,[a(Q,{label:p.$t("reports.sales.date_range"),class:"col-span-12 md:col-span-8"},{default:i(()=>[a(b,{modelValue:M.value,"onUpdate:modelValue":[f[0]||(f[0]=C=>M.value=C),t],options:l,"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),c("div",te,[a(Q,{label:p.$t("reports.sales.from_date")},{default:i(()=>[a(z,{modelValue:G(s).from_date,"onUpdate:modelValue":f[1]||(f[1]=C=>G(s).from_date=C)},null,8,["modelValue"])]),_:1},8,["label"]),f[4]||(f[4]=c("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1)),a(Q,{label:p.$t("reports.sales.to_date")},{default:i(()=>[a(z,{modelValue:G(s).to_date,"onUpdate:modelValue":f[2]||(f[2]=C=>G(s).to_date=C)},null,8,["modelValue"])]),_:1},8,["label"])]),a(Q,{label:p.$t("reports.sales.report_type"),class:"col-span-12 md:col-span-8"},{default:i(()=>[a(b,{modelValue:y.value,"onUpdate:modelValue":[f[3]||(f[3]=C=>y.value=C),o],options:n.value,placeholder:p.$t("reports.sales.report_type"),class:"mt-1"},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),a(J,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:N(w,["prevent"])},{default:i(()=>[I(P(p.$t("reports.update_report")),1)]),_:1})]),c("div",ae,[c("iframe",{src:d.value,class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,oe),c("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:S},[a(K,{name:"DocumentTextIcon",class:"h-5 mr-2"}),c("span",null,P(p.$t("reports.view_pdf")),1)])])])}}},ne={class:"grid gap-8 md:grid-cols-12 pt-10"},se={class:"col-span-8 md:col-span-4"},le={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},de={class:"col-span-8"},ue=["src"],ie={__name:"ExpensesReport",setup(U){const k=W(),h=L(),{t:l}=j();k.downloadReport=R;const M=V([{label:l("dateRange.today"),key:"Today"},{label:l("dateRange.this_week"),key:"This Week"},{label:l("dateRange.this_month"),key:"This Month"},{label:l("dateRange.this_quarter"),key:"This Quarter"},{label:l("dateRange.this_year"),key:"This Year"},{label:l("dateRange.previous_week"),key:"Previous Week"},{label:l("dateRange.previous_month"),key:"Previous Month"},{label:l("dateRange.previous_quarter"),key:"Previous Quarter"},{label:l("dateRange.previous_year"),key:"Previous Year"},{label:l("dateRange.custom"),key:"Custom"}]),n=v(M[2]);let y=v(new Date),D=v(null),Y=v(null);const e=V({from_date:r().startOf("month").toString(),to_date:r().endOf("month").toString()}),g=O(()=>D.value),s=O(()=>h.selectedCompany),B=O(()=>`${Y.value}?from_date=${r(e.from_date).format("YYYY-MM-DD")}&to_date=${r(e.to_date).format("YYYY-MM-DD")}`);E(()=>{Y.value=`/reports/expenses/${s.value.unique_hash}`,D.value=B.value}),F(()=>y,t=>{e.from_date=r(t).startOf("year").toString(),e.to_date=r(t).endOf("year").toString()});function d(t,o){return r()[t](o).format("YYYY-MM-DD")}function u(t,o){return r().subtract(1,o)[t](o).format("YYYY-MM-DD")}function T(){switch(n.value.key){case"Today":e.from_date=r().format("YYYY-MM-DD"),e.to_date=r().format("YYYY-MM-DD");break;case"This Week":e.from_date=d("startOf","isoWeek"),e.to_date=d("endOf","isoWeek");break;case"This Month":e.from_date=d("startOf","month"),e.to_date=d("endOf","month");break;case"This Quarter":e.from_date=d("startOf","quarter"),e.to_date=d("endOf","quarter");break;case"This Year":e.from_date=d("startOf","year"),e.to_date=d("endOf","year");break;case"Previous Week":e.from_date=u("startOf","isoWeek"),e.to_date=u("endOf","isoWeek");break;case"Previous Month":e.from_date=u("startOf","month"),e.to_date=u("endOf","month");break;case"Previous Quarter":e.from_date=u("startOf","quarter"),e.to_date=u("endOf","quarter");break;case"Previous Year":e.from_date=u("startOf","year"),e.to_date=u("endOf","year");break}}async function x(){let t=await _();return window.open(g.value,"_blank"),t}function _(){return D.value=B.value,!0}function R(){_(),window.open(g.value+"&download=true"),setTimeout(()=>{D.value=B.value},200)}return(t,o)=>{const S=m("BaseMultiselect"),w=m("BaseInputGroup"),$=m("BaseDatePicker"),p=m("BaseButton"),f=m("BaseIcon");return q(),H("div",ne,[c("div",se,[a(w,{label:t.$t("reports.sales.date_range"),class:"col-span-12 md:col-span-8"},{default:i(()=>[a(S,{modelValue:n.value,"onUpdate:modelValue":[o[0]||(o[0]=b=>n.value=b),T],options:M,"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),c("div",le,[a(w,{label:t.$t("reports.expenses.from_date")},{default:i(()=>[a($,{modelValue:e.from_date,"onUpdate:modelValue":o[1]||(o[1]=b=>e.from_date=b)},null,8,["modelValue"])]),_:1},8,["label"]),o[3]||(o[3]=c("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1)),a(w,{label:t.$t("reports.expenses.to_date")},{default:i(()=>[a($,{modelValue:e.to_date,"onUpdate:modelValue":o[2]||(o[2]=b=>e.to_date=b)},null,8,["modelValue"])]),_:1},8,["label"])]),a(p,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:N(_,["prevent"])},{default:i(()=>[I(P(t.$t("reports.update_report")),1)]),_:1})]),c("div",de,[c("iframe",{src:g.value,class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,ue),c("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500 cursor-pointer",onClick:x},[a(f,{name:"DocumentTextIcon",class:"h-5 mr-2"}),c("span",null,P(t.$t("reports.view_pdf")),1)])])])}}},me={class:"grid gap-8 md:grid-cols-12 pt-10"},ce={class:"col-span-8 md:col-span-4"},pe={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},fe={class:"col-span-8"},_e=["src"],be={__name:"ProfitLossReport",setup(U){const k=W(),h=L(),{t:l}=j();k.downloadReport=R;const M=V([{label:l("dateRange.today"),key:"Today"},{label:l("dateRange.this_week"),key:"This Week"},{label:l("dateRange.this_month"),key:"This Month"},{label:l("dateRange.this_quarter"),key:"This Quarter"},{label:l("dateRange.this_year"),key:"This Year"},{label:l("dateRange.previous_week"),key:"Previous Week"},{label:l("dateRange.previous_month"),key:"Previous Month"},{label:l("dateRange.previous_quarter"),key:"Previous Quarter"},{label:l("dateRange.previous_year"),key:"Previous Year"},{label:l("dateRange.custom"),key:"Custom"}]),n=v(M[2]);let y=v(null),D=v(null),Y=v(new Date);const e=V({from_date:r().startOf("month").toString(),to_date:r().endOf("month").toString()}),g=O(()=>y.value),s=O(()=>h.selectedCompany),B=O(()=>`${D.value}?from_date=${r(e.from_date).format("YYYY-MM-DD")}&to_date=${r(e.to_date).format("YYYY-MM-DD")}`);F(Y,t=>{e.from_date=r(t).startOf("year").toString(),e.to_date=r(t).endOf("year").toString()}),E(()=>{D.value=`/reports/profit-loss/${s.value.unique_hash}`,y.value=B.value});function d(t,o){return r()[t](o).format("YYYY-MM-DD")}function u(t,o){return r().subtract(1,o)[t](o).format("YYYY-MM-DD")}function T(){switch(n.value.key){case"Today":e.from_date=r().format("YYYY-MM-DD"),e.to_date=r().format("YYYY-MM-DD");break;case"This Week":e.from_date=d("startOf","isoWeek"),e.to_date=d("endOf","isoWeek");break;case"This Month":e.from_date=d("startOf","month"),e.to_date=d("endOf","month");break;case"This Quarter":e.from_date=d("startOf","quarter"),e.to_date=d("endOf","quarter");break;case"This Year":e.from_date=d("startOf","year"),e.to_date=d("endOf","year");break;case"Previous Week":e.from_date=u("startOf","isoWeek"),e.to_date=u("endOf","isoWeek");break;case"Previous Month":e.from_date=u("startOf","month"),e.to_date=u("endOf","month");break;case"Previous Quarter":e.from_date=u("startOf","quarter"),e.to_date=u("endOf","quarter");break;case"Previous Year":e.from_date=u("startOf","year"),e.to_date=u("endOf","year");break}}async function x(){let t=await _();return window.open(g.value,"_blank"),t}function _(){return y.value=B.value,!0}function R(){_(),window.open(g.value+"&download=true"),setTimeout(()=>{y.value=B.value},200)}return(t,o)=>{const S=m("BaseMultiselect"),w=m("BaseInputGroup"),$=m("BaseDatePicker"),p=m("BaseButton"),f=m("BaseIcon");return q(),H("div",me,[c("div",ce,[a(w,{label:t.$t("reports.profit_loss.date_range"),class:"col-span-12 md:col-span-8"},{default:i(()=>[a(S,{modelValue:n.value,"onUpdate:modelValue":[o[0]||(o[0]=b=>n.value=b),T],options:M,"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),c("div",pe,[a(w,{label:t.$t("reports.profit_loss.from_date")},{default:i(()=>[a($,{modelValue:e.from_date,"onUpdate:modelValue":o[1]||(o[1]=b=>e.from_date=b)},null,8,["modelValue"])]),_:1},8,["label"]),o[3]||(o[3]=c("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1)),a(w,{label:t.$t("reports.profit_loss.to_date")},{default:i(()=>[a($,{modelValue:e.to_date,"onUpdate:modelValue":o[2]||(o[2]=b=>e.to_date=b)},null,8,["modelValue"])]),_:1},8,["label"])]),a(p,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:N(_,["prevent"])},{default:i(()=>[I(P(t.$t("reports.update_report")),1)]),_:1})]),c("div",fe,[c("iframe",{src:g.value,class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,_e),c("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:x},[a(f,{name:"DocumentTextIcon",class:"h-5 mr-2"}),c("span",null,P(t.$t("reports.view_pdf")),1)])])])}}},ye={class:"grid gap-8 md:grid-cols-12 pt-10"},ve={class:"col-span-8 md:col-span-4"},ke={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},he={class:"col-span-8"},ge=["src"],Ye={__name:"TaxReport",setup(U){const k=W();k.downloadReport=R;const{t:h}=j(),l=V([{label:h("dateRange.today"),key:"Today"},{label:h("dateRange.this_week"),key:"This Week"},{label:h("dateRange.this_month"),key:"This Month"},{label:h("dateRange.this_quarter"),key:"This Quarter"},{label:h("dateRange.this_year"),key:"This Year"},{label:h("dateRange.previous_week"),key:"Previous Week"},{label:h("dateRange.previous_month"),key:"Previous Month"},{label:h("dateRange.previous_quarter"),key:"Previous Quarter"},{label:h("dateRange.previous_year"),key:"Previous Year"},{label:h("dateRange.custom"),key:"Custom"}]),M=v(l[2]),n=V({from_date:r().startOf("month").format("YYYY-MM-DD").toString(),to_date:r().endOf("month").format("YYYY-MM-DD").toString()});let y=v(null);const D=O(()=>y.value),Y=L(),e=O(()=>Y.selectedCompany);let g=v(null);E(()=>{g.value=`/reports/tax-summary/${e.value.unique_hash}`,y.value=s.value});const s=O(()=>`${g.value}?from_date=${r(n.from_date).format("YYYY-MM-DD")}&to_date=${r(n.to_date).format("YYYY-MM-DD")}`);let B=v(new Date);F(B.value,t=>{n.from_date=r(t).startOf("year").toString(),n.to_date=r(t).endOf("year").toString()});function d(t,o){return r()[t](o).format("YYYY-MM-DD")}function u(t,o){return r().subtract(1,o)[t](o).format("YYYY-MM-DD")}function T(){switch(M.value.key){case"Today":n.from_date=r().format("YYYY-MM-DD"),n.to_date=r().format("YYYY-MM-DD");break;case"This Week":n.from_date=d("startOf","isoWeek"),n.to_date=d("endOf","isoWeek");break;case"This Month":n.from_date=d("startOf","month"),n.to_date=d("endOf","month");break;case"This Quarter":n.from_date=d("startOf","quarter"),n.to_date=d("endOf","quarter");break;case"This Year":n.from_date=d("startOf","year"),n.to_date=d("endOf","year");break;case"Previous Week":n.from_date=u("startOf","isoWeek"),n.to_date=u("endOf","isoWeek");break;case"Previous Month":n.from_date=u("startOf","month"),n.to_date=u("endOf","month");break;case"Previous Quarter":n.from_date=u("startOf","quarter"),n.to_date=u("endOf","quarter");break;case"Previous Year":n.from_date=u("startOf","year"),n.to_date=u("endOf","year");break}}async function x(){let t=await _();return window.open(D.value,"_blank"),t}function _(){return y.value=s.value,!0}function R(){_(),window.open(D.value+"&download=true"),setTimeout(()=>{y.value=s.value},200)}return(t,o)=>{const S=m("BaseMultiselect"),w=m("BaseInputGroup"),$=m("BaseDatePicker"),p=m("BaseButton"),f=m("BaseIcon");return q(),H("div",ye,[c("div",ve,[a(w,{label:t.$t("reports.taxes.date_range"),class:"col-span-12 md:col-span-8"},{default:i(()=>[a(S,{modelValue:M.value,"onUpdate:modelValue":[o[0]||(o[0]=b=>M.value=b),T],options:l,"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),c("div",ke,[a(w,{label:t.$t("reports.taxes.from_date")},{default:i(()=>[a($,{modelValue:n.from_date,"onUpdate:modelValue":o[1]||(o[1]=b=>n.from_date=b)},null,8,["modelValue"])]),_:1},8,["label"]),o[3]||(o[3]=c("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1)),a(w,{label:t.$t("reports.taxes.to_date")},{default:i(()=>[a($,{modelValue:n.to_date,"onUpdate:modelValue":o[2]||(o[2]=b=>n.to_date=b)},null,8,["modelValue"])]),_:1},8,["label"])]),a(p,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:N(_,["prevent"])},{default:i(()=>[I(P(t.$t("reports.update_report")),1)]),_:1})]),c("div",he,[c("iframe",{src:D.value,class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,ge),c("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:x},[a(f,{name:"DocumentTextIcon",class:"h-5 mr-2"}),c("span",null,P(t.$t("reports.view_pdf")),1)])])])}}},we={__name:"Index",setup(U){const k=W();function h(){k.downloadReport()}return(l,M)=>{const n=m("BaseBreadcrumbItem"),y=m("BaseBreadcrumb"),D=m("BaseIcon"),Y=m("BaseButton"),e=m("BasePageHeader"),g=m("BaseTab"),s=m("BaseTabGroup"),B=m("BasePage");return q(),A(B,null,{default:i(()=>[a(e,{title:l.$tc("reports.report",2)},{actions:i(()=>[a(Y,{variant:"primary",class:"ml-4",onClick:h},{left:i(d=>[a(D,{name:"DownloadIcon",class:X(d.class)},null,8,["class"])]),default:i(()=>[I(" "+P(l.$t("reports.download_pdf")),1)]),_:1})]),default:i(()=>[a(y,null,{default:i(()=>[a(n,{title:l.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),a(n,{title:l.$tc("reports.report",2),to:"/admin/reports",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),a(s,{class:"p-2"},{default:i(()=>[a(g,{title:l.$t("reports.sales.sales"),"tab-panel-container":"px-0 py-0"},{default:i(()=>[a(re,{ref:"report"},null,512)]),_:1},8,["title"]),a(g,{title:l.$t("reports.profit_loss.profit_loss"),"tab-panel-container":"px-0 py-0"},{default:i(()=>[a(be,{ref:"report"},null,512)]),_:1},8,["title"]),a(g,{title:l.$t("reports.expenses.expenses"),"tab-panel-container":"px-0 py-0"},{default:i(()=>[a(ie,{ref:"report"},null,512)]),_:1},8,["title"]),a(g,{title:l.$t("reports.taxes.taxes"),"tab-panel-container":"px-0 py-0"},{default:i(()=>[a(Ye,{ref:"report"},null,512)]),_:1},8,["title"])]),_:1})]),_:1})}}};export{we as default};
