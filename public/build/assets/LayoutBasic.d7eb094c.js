import{u as V}from"./auth.dbd5e12e.js";import{l as z,M as N,m as I,d as E,e as k,E as F,r as _,o as n,j as u,h as a,b as e,x as t,Q as O,c as m,F as v,i as x,n as w,z as d,t as i,a as o,aZ as T,a_ as G,a$ as H,b0 as P,b1 as Q,b2 as Z,b3 as q,b4 as J,b5 as K,g as W}from"./main.b57b9d3d.js";import{u as A}from"./global.6b1e5af4.js";import{N as X}from"./NotificationRoot.20969e09.js";const Y={class:"mx-auto px-8"},ee={class:"flex justify-between h-16 w-full"},te={class:"flex"},se={class:"shrink-0 flex items-center"},re=["href"],oe=["src"],ae={class:"hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-8"},ne={class:"hidden sm:ml-6 sm:flex sm:items-center"},le=["src"],ie={class:"-mr-2 flex items-center sm:hidden"},ce={class:"pt-2 pb-3 space-y-1"},ue={class:"pt-4 pb-3 border-t border-gray-200"},de={class:"flex items-center px-4"},me={class:"shrink-0"},fe=["src"],pe={class:"ml-3"},ge={class:"text-base font-medium text-gray-800"},_e={class:"text-sm font-medium text-gray-500"},he={class:"mt-3 space-y-1"},ye={__name:"TheSiteHeader",setup(L){const{t:f}=z(),p=N(),r=A(),h=[{title:f("navigation.logout"),link:`/${r.companySlug}/customer/login`}],$=V(),S=I(),y=E(""),B=k(()=>r.currentUser&&r.currentUser.avatar!==0?r.currentUser.avatar:C());function C(){return new URL("/build/img/default-avatar.jpg",self.location)}F(p,l=>{y.value=l.path},{immediate:!0});const D=k(()=>window.customer_logo?window.customer_logo:!1);function b(l){return p.path.indexOf(l)>-1}function M(){$.logout(r.companySlug).then(l=>{l&&S.push({name:"customer.login"})})}return(l,c)=>{const g=_("router-link"),U=_("BaseDropdownItem"),R=_("BaseDropdown");return n(),u(t(K),{as:"nav",class:"bg-white shadow-sm fixed top-0 left-0 z-20 w-full"},{default:a(({open:j})=>[e("div",Y,[e("div",ee,[e("div",te,[e("div",se,[e("a",{href:`/${t(r).companySlug}/customer/dashboard`,class:"float-none text-lg not-italic font-black tracking-wider text-white brand-main md:float-left font-base"},[D.value?(n(),m("img",{key:1,src:D.value,class:"h-6"},null,8,oe)):(n(),u(O,{key:0,class:"h-6"}))],8,re)]),e("div",ae,[(n(!0),m(v,null,x(t(r).mainMenu,s=>(n(),u(g,{key:s.title,to:`/${t(r).companySlug}${s.link}`,class:w([b(s.link)?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:a(()=>[d(i(s.title),1)]),_:2},1032,["to","class"]))),128))])]),e("div",ne,[c[0]||(c[0]=e("button",{type:"button",class:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1)),o(t(T),{as:"div",class:"ml-3 relative"},{default:a(()=>[o(R,{"width-class":"w-48"},{activator:a(()=>[o(t(G),{class:"bg-white flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:a(()=>[e("img",{class:"h-8 w-8 rounded-full",src:B.value,alt:""},null,8,le)]),_:1})]),default:a(()=>[o(g,{to:{name:"customer.profile"}},{default:a(()=>[o(U,null,{default:a(()=>[o(t(H),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),d(" "+i(l.$t("navigation.settings")),1)]),_:1})]),_:1}),o(U,{onClick:M},{default:a(()=>[o(t(P),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),d(" "+i(l.$t("navigation.logout")),1)]),_:1})]),_:1})]),_:1})]),e("div",ie,[o(t(Q),{class:"bg-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:a(()=>[c[1]||(c[1]=e("span",{class:"sr-only"},"Open main menu",-1)),j?(n(),u(t(q),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(n(),u(t(Z),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)])])]),o(t(J),{class:"sm:hidden"},{default:a(()=>[e("div",ce,[(n(!0),m(v,null,x(t(r).mainMenu,s=>(n(),u(g,{key:s.title,to:`/${t(r).companySlug}${s.link}`,class:w([b(s.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),"aria-current":s.current?"page":void 0},{default:a(()=>[d(i(s.title),1)]),_:2},1032,["to","class","aria-current"]))),128))]),e("div",ue,[e("div",de,[e("div",me,[e("img",{class:"h-10 w-10 rounded-full",src:B.value,alt:""},null,8,fe)]),e("div",pe,[e("div",ge,i(t(r).currentUser.title),1),e("div",_e,i(t(r).currentUser.email),1)]),c[2]||(c[2]=e("button",{type:"button",class:"ml-auto bg-white shrink-0 p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1))]),e("div",he,[(n(),m(v,null,x(h,s=>o(g,{key:s.title,to:s.link,class:w([b(s.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"])},{default:a(()=>[d(i(s.title),1)]),_:2},1032,["to","class"])),64))])])]),_:1})]),_:1})}}},be={key:0,class:"h-full"},ve={class:"mt-16 pb-16 h-screen overflow-y-auto min-h-0"},Se={__name:"LayoutBasic",setup(L){const f=A(),p=N(),r=k(()=>f.isAppLoaded);h();async function h(){await f.bootstrap(p.params.company)}return($,S)=>{const y=_("router-view");return r.value?(n(),m("div",be,[o(X),o(ye),e("main",ve,[o(y)])])):W("",!0)}}};export{Se as default};
